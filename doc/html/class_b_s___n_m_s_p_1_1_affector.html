<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>bulletscript: BS_NMSP::Affector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>BS_NMSP</b>::<a class="el" href="class_b_s___n_m_s_p_1_1_affector.html">Affector</a>
  </div>
</div>
<div class="contents">
<h1>BS_NMSP::Affector Class Reference</h1><!-- doxytag: class="BS_NMSP::Affector" --><!-- doxytag: inherits="BS_NMSP::VariableListener" --><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> class for manipulating emitted objects.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="bs_affector_8h_source.html">bsAffector.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for BS_NMSP::Affector:</div>
<div class="dynsection">

<p><center><img src="class_b_s___n_m_s_p_1_1_affector.png" usemap="#BS_NMSP::Affector_map" border="0" alt=""></center>
<map name="BS_NMSP::Affector_map">
</map>
</div>

<p>
<a href="class_b_s___n_m_s_p_1_1_affector-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#1d4c21e0d4e85d5cd54c73c7b9960271">Affector</a> (const String &amp;name, ScriptMachine *machine, AffectorFunction func, int numArgs, const BytecodeBlock &amp;code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#1d4c21e0d4e85d5cd54c73c7b9960271"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="93f141782709393285d7577814eb281b"></a><!-- doxytag: member="BS_NMSP::Affector::~Affector" ref="93f141782709393285d7577814eb281b" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#93f141782709393285d7577814eb281b">~Affector</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const String &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#00ddf48d105d4730cb103a2a0eabd331">getName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> instance name.  <a href="#00ddf48d105d4730cb103a2a0eabd331"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#fb81d19fb4c96bca289c73d23a76a4dc">recalculateAlways</a> (bool always)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets whether the <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> should recalculate its arguments before each time it is run.  <a href="#fb81d19fb4c96bca289c73d23a76a4dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#3c81735b306946e553f405e9babb3e99">execute</a> (<a class="el" href="struct_b_s___n_m_s_p_1_1_user_type_base.html">UserTypeBase</a> *object, float frameTime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Runs the AffectorFunction.  <a href="#3c81735b306946e553f405e9babb3e99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_b_s___n_m_s_p_1_1_affector.html#58925ee949b32cf55222fe8a42966f74">onChanged</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback for global functions.  <a href="#58925ee949b32cf55222fe8a42966f74"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> class for manipulating emitted objects. 
<p>
Affectors are C++ functions supplied by the user which are applied to objects at each update. Affectors differ from script functions in that the function is run on the object in full at each update, whereas script functions are applied once over the course of the object's lifetime. Furthermore, affectors can take arguments which can change over time, whereas a script function's arguments cannot be changed once the function is called. The other use of affectors is performance- critical code, where doing things in script simply isn't fast enough and native C++ is needed. The <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> class is an instance of a particular affector function, holding its particular arguments. The function itself is a function pointer defined by AffectorFunction. Due to speed reasons, Affectors have a hard limit on the number of arguments that they can take. This is defined by BS_MAX_AFFECTOR_ARGS in <a class="el" href="bs_config_8h_source.html">bsConfig.h</a>. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1d4c21e0d4e85d5cd54c73c7b9960271"></a><!-- doxytag: member="BS_NMSP::Affector::Affector" ref="1d4c21e0d4e85d5cd54c73c7b9960271" args="(const String &amp;name, ScriptMachine *machine, AffectorFunction func, int numArgs, const BytecodeBlock &amp;code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BS_NMSP::Affector::Affector           </td>
          <td>(</td>
          <td class="paramtype">const String &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ScriptMachine *&nbsp;</td>
          <td class="paramname"> <em>machine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AffectorFunction&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BytecodeBlock &amp;&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>name of the variable which holds this <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>machine</em>&nbsp;</td><td>pointer to an active ScriptMachine. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>a function pointer of the type defined by AffectorFunction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numArgs</em>&nbsp;</td><td>the number of arguments this affector takes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>the bytecode for argument generation. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3c81735b306946e553f405e9babb3e99"></a><!-- doxytag: member="BS_NMSP::Affector::execute" ref="3c81735b306946e553f405e9babb3e99" args="(UserTypeBase *object, float frameTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BS_NMSP::Affector::execute           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_s___n_m_s_p_1_1_user_type_base.html">UserTypeBase</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>frameTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Runs the AffectorFunction. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>the object to run the AffectorFunction on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frameTime</em>&nbsp;</td><td>the time interval since last update, in seconds. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="00ddf48d105d4730cb103a2a0eabd331"></a><!-- doxytag: member="BS_NMSP::Affector::getName" ref="00ddf48d105d4730cb103a2a0eabd331" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const String&amp; BS_NMSP::Affector::getName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> instance name. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> instance name. </dd></dl>

</div>
</div><p>
<a class="anchor" name="58925ee949b32cf55222fe8a42966f74"></a><!-- doxytag: member="BS_NMSP::Affector::onChanged" ref="58925ee949b32cf55222fe8a42966f74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BS_NMSP::Affector::onChanged           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback for global functions. 
<p>
If an <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> uses global variables in its arguments, these arguments will need to be recalculated whenever that variable changes. This is done by registering <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> as listening to a global variable (by subclassing from VariableListener), and overriding VariableListener::onChange which is called when the variable is changed. 
</div>
</div><p>
<a class="anchor" name="fb81d19fb4c96bca289c73d23a76a4dc"></a><!-- doxytag: member="BS_NMSP::Affector::recalculateAlways" ref="fb81d19fb4c96bca289c73d23a76a4dc" args="(bool always)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BS_NMSP::Affector::recalculateAlways           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>always</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets whether the <a class="el" href="class_b_s___n_m_s_p_1_1_affector.html" title="Affector class for manipulating emitted objects.">Affector</a> should recalculate its arguments before each time it is run. 
<p>
Currently, it is more efficient to recalculate all arguments, even if only one has changed, than it is to check them individually.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>always</em>&nbsp;</td><td>true if they should be recalculated every time, false otherwise. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>C:/Code/bulletscript/include/<a class="el" href="bs_affector_8h_source.html">bsAffector.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Nov 22 02:06:15 2009 for bulletscript by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
